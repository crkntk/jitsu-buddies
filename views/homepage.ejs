<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="/css/home.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>

     <!-- fonts kanit -->
     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<!-- color pallet https://colorhunt.co/palette/171717444444da0037ededed colors: black 171717, grey 444444, red DA0037, light grey EDEDED -->
<body>
     <div id="main-content" class="z-10 transition-all duration-900 ease-in-out">
     <div id="hidden-info">
                    <h1>Welcome to Jitsu Buddies</h1>
                    <h2>MAP</h2>
                    <!-- Checks if lat or long depending on wanting location based on ip address or adress on profile-->
                    <% if(locals.lat && locals.lon) {%>
                         <p id="latitude"><%= lat %></p>
                    <p id ="longitude"><%= lon %></p>
                         <% } else{ %>
                    <p id="latitude"><%= locationObj.latitude %></p>
                    <p id ="longitude"><%= locationObj.longitude %></p>
                         <% } %>
     </div>
     <div class="header">
          <%- include('partials/header.ejs', sunTzuQuote) %>
     </div>
     <script>
     const params = new URLSearchParams(window.location.search);
     const loggedIn = params.get('loggedIn'); // "123"
</script>
     <div id="navigation-bar">
          <%- include('partials/nav_bar.ejs',loggedIn) %>
     </div>
     <div id="nav-bar-cont">
          <div class="close-arrow-cont">
               <div class="class-arrow">
                    <svg id="arrow-svg"xmlns="http://www.w3.org/2000/svg" width="30" height="30"  class="bi bi-list" viewBox="0 0 16 16">
                         <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
                       </svg>
                    </div>
          </div>
          <div class="nav-bar-opt">
               <div class="nav-item">
                    Search for Partners
               </div>
               <div class="nav-item">
                    Rankings
               </div>
               <div class="nav-item">
                    Quests
               </div>
          </div>
               
          

     </div>
     <div class="grid-body">
               <div id="search-map">
               <div id="flex-info">
                         <div id="info">
                              <div id="search-cont">
                                   <h2 id="search-bar-tit">Search For Partners</h2>
                                   <div class="search-flex">
                                        <button id="search-button" class="search-item main-font">Search For Partners</button>
                                        <button id="my-location" class="search-item main-font">My Location</button>
                                        <button id="change-location" class="search-item main-font">Change Location</button>
                                        <button id="change-availbility" class="search-item main-font">Availability</button>
                                        <button id="change-Prefrences" class="search-item main-font">Training Pref</button>
                                   </div>
                              </div>
                         </div>
                    </div>
               <div class="map-flex-cont">
                    <div id="container-map">    
                         <div id="map"></div>
                    </div>
               </div>
          </div>
     </div>

     </div>

     <div id="search-popup" class="hidden absolute top-1/8 left-1/7 right-1/8 p-0 m-0 transition-transform delay-300 duration-1000 transform scale-10 -skew-12">
          <div>
          <div class="flex flex-column bg-gunmetal w-4xl h-fit text-xs text-platinum p-5">
               <button type="button" class="btn btn-secondary self-end" id="close-search">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-square" viewBox="0 0 16 16">
                    <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"></path>
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"></path>
               </svg>
              </button>
               <h2>Search</h2>
               <div class="text-platinum"> <%=JSON.stringify(userInfo) %> </div>
               <form action="" id="search-form">
               <div>
                    <input id="dist_input" type="range" min="0" max="100" step="1" class="accent-classic-crimson"/>
                    <p>Distance(miles): <output id="dist-value"></output></p>
               </div>
        <!-- wieght input -->
  

        <!-- Grappling Experience -->
        <div class="m-3 training">
            <h3 class="mb-1 col-7">Grappling Experience</h3> <p class="mt-1 col-7">This can be changed</p>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="grapplingExp[]" id ="expBJJ" value="BJJ">
            <label class="form-check-label" for="expBJJ">Brazilian Jujitsu</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="grapplingExp[]" id="expWrestling" value="wrestling">
            <label class="form-check-label" for="expWrestling">Wrestling</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="grapplingExp[]" id="expJudo" value="judo">
            <label class="form-check-label" for="expJudo">Judo</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="grapplingExp[]" value="nogi" id="expNoGi">
            <label class="form-check-label" for="expNoGi">No Gi Grappling</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="grapplingExp[]" id="expCatch" value="catchWrestling">
            <label class="form-check-label" for="expCatch">Catch Wrestling </label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="grapplingExp[]" id="expSambo" value="sambo">
            <label class="form-check-label" for="expSambo">Sambo</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="grapplingExp[]" id="expNoExp" value="noExp">
            <label class="form-check-label" for="expSambo">No Experience</label>
          </div>
        </div>

        <!-- Striking Experience -->
        <div class="m-3 training">
            <h3 class="mb-1 col-7">Sriking Experience</h3> <p class="mt-1 col-7">This can be changed</p>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="strikingExp[]" id ="expBoxing" value="boxing">
            <label class="form-check-label" for="expBoxing">Boxing</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="strikingExp[]" id="expMuaythai" value="Muaythai">
            <label class="form-check-label" for="expWrestling">Muay Thai</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="strikingExp[]" id="expKickboxing" value="kickBoxing">
            <label class="form-check-label" for="PrefFlowRoll">Kick Boxing</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="strikingExp[]" value="karate" id="expKarate">
            <label class="form-check-label" for="expNoGi">Karate</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="strikingExp[]" id="expKungfu" value="kungFU">
            <label class="form-check-label" for="expKungfu">Kung Fu</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="strikingExp[]" id="expMMA" value="mma">
            <label class="form-check-label" for="expMMA">MMA</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="strikingExp[]" id="expNoexp" value="noExp">
            <label class="form-check-label" for="expNoexp">No Experience</label>
          </div>
        </div>
          <!-- Training Prefrences -->
          <div class="m-3 training">
            <h3 class="mb-1 col-7">Training Preferences</h3> <p class="mt-1 col-7">This can be changed</p>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="trainingPref[]" id ="prefNewMoves" value="newMoves">
            <label class="form-check-label" for="prefNewMoves">Drill New Moves</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="trainingPref[]" id="PrefDrillSeq" value="drillSeq">
            <label class="form-check-label" for="PrefDrillSeq">Drill Sequences</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="trainingPref[]" id="PrefFlowRoll" value="flowRoll">
            <label class="form-check-label" for="PrefFlowRoll">Flow Roll</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="trainingPref[]" value="sparr" id="PrefSparr">
            <label class="form-check-label" for="PrefSparr">Sparr</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="trainingPref[]" id="PrefJujCoffee" value="jujCoffee">
            <label class="form-check-label" for="PrefJujCoffee">Jujitsu Coffee </label>
          </div>
        </div>

        <div class="m-3 training">
            <h3 class="mb-1 col-7">Intensity Preferences</h3> <p class="mt-1 col-7">This can be changed</p>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="Intensity" id="flexRadioDefault1" value="low">
            <label class="form-check-label" for="flexRadioDefault1">
              low
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Intensity" id="flexRadioDefault2" value="medium">
            <label class="form-check-label" for="flexRadioDefault2">
              medium
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Intensity" id="flexRadioDefault3" value="high">
            <label class="form-check-label" for="flexRadioDefault3">
              high
            </label>
          </div>
        </div>
        <div class="flex flex-row justify-between">
          <button type="button" class=" search-item main-font w-2xl" style="background-color: black; width: 250px; height: 50px;">Update Preferences</button>
          <button type="submit" class="search-item main-font " style="background-color: black; width: 250px; height: 50px;" >Find Partners</button>
        </div>
        </form>


          </div>
          </div>
     </div>
</body>


<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin="">
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
     <script id="initmap-script" type="module" src="/maps/homepage_map.js" papKey=<%=papKey%> belt=<%=academyBelt%> > </script>
     <script type="module" src="/jquery/home_jq.js"></script>

</html>